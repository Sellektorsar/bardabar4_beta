import{m as g,r as u,q as b,c as i,a as e,i as y,g as w,j as c,v as m,t as p,n as h,d as f,o as x}from"./CZ2o3cO2.js";import{_}from"./cb41NDiF.js";import{u as k}from"./B1Igek5M.js";import{u as V}from"./Q1ai-edx.js";const A={class:"min-h-screen bg-background flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},S={class:"max-w-md w-full space-y-8"},j={class:"space-y-4"},q={key:0,class:"bg-red-50 border border-red-200 rounded-lg p-4"},B={class:"text-red-600 text-sm"},M=["disabled"],U={__name:"login",setup(N){const o=k(),d=g(),s=u({username:"",password:""}),r=u(!1),a=u(""),v=async()=>{r.value=!0,a.value="";try{const l=await o.login(s.value);l.success?(o.saveAuth(),await d.push("/admin")):a.value=l.error}catch{a.value="Произошла ошибка при входе"}finally{r.value=!1}};return b(()=>{o.checkAuth(),o.isAuthenticated&&d.push("/admin")}),V({title:"Вход в админ-панель - Бар-да-бар",meta:[{name:"robots",content:"noindex, nofollow"}]}),(l,t)=>(x(),i("div",A,[e("div",S,[t[5]||(t[5]=e("div",null,[e("div",{class:"flex justify-center"},[e("img",{src:_,alt:"Бар-да-бар",class:"h-16 w-auto"})]),e("h2",{class:"mt-6 text-center text-3xl font-montserrat font-bold text-primary"}," Вход в админ-панель "),e("p",{class:"mt-2 text-center text-sm text-text-light"}," Введите ваши учетные данные для доступа к панели управления ")],-1)),e("form",{onSubmit:y(v,["prevent"]),class:"mt-8 space-y-6"},[e("div",j,[e("div",null,[t[2]||(t[2]=e("label",{for:"username",class:"block text-sm font-medium text-text mb-2"}," Логин ",-1)),c(e("input",{id:"username","onUpdate:modelValue":t[0]||(t[0]=n=>s.value.username=n),type:"text",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent",placeholder:"Введите логин"},null,512),[[m,s.value.username]])]),e("div",null,[t[3]||(t[3]=e("label",{for:"password",class:"block text-sm font-medium text-text mb-2"}," Пароль ",-1)),c(e("input",{id:"password","onUpdate:modelValue":t[1]||(t[1]=n=>s.value.password=n),type:"password",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent",placeholder:"Введите пароль"},null,512),[[m,s.value.password]])])]),a.value?(x(),i("div",q,[e("p",B,p(a.value),1)])):w("",!0),e("button",{type:"submit",disabled:r.value,class:h(["w-full btn-primary py-3",{"opacity-50 cursor-not-allowed":r.value}])},p(r.value?"Вход...":"Войти"),11,M),t[4]||(t[4]=e("div",{class:"mt-6 p-4 bg-gray-50 rounded-lg"},[e("p",{class:"text-sm text-gray-600 mb-2"},"Тестовые учетные данные:"),e("div",{class:"space-y-1 text-xs text-gray-500"},[e("p",null,[e("strong",null,"Администратор:"),f(" admin / admin123")]),e("p",null,[e("strong",null,"Редактор:"),f(" editor / editor123")])])],-1))],32)])]))}};export{U as default};
