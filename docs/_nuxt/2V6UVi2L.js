import{x as s}from"./BYdWeFw6.js";const i=s("auth",{state:()=>({user:null,isAuthenticated:!1,role:null}),getters:{isAdmin:e=>e.role==="admin",isEditor:e=>e.role==="editor"||e.role==="admin"},actions:{async login(e){try{return await new Promise(t=>setTimeout(t,1e3)),e.username==="admin"&&e.password==="admin123"?(this.user={username:"admin",name:"Администратор"},this.isAuthenticated=!0,this.role="admin",{success:!0}):e.username==="editor"&&e.password==="editor123"?(this.user={username:"editor",name:"Редактор"},this.isAuthenticated=!0,this.role="editor",{success:!0}):{success:!1,error:"Неверные учетные данные"}}catch{return{success:!1,error:"Ошибка входа"}}},logout(){this.user=null,this.isAuthenticated=!1,this.role=null},checkAuth(){const e=localStorage.getItem("user");if(e){const t=JSON.parse(e);this.user=t.user,this.isAuthenticated=t.isAuthenticated,this.role=t.role}},saveAuth(){localStorage.setItem("user",JSON.stringify({user:this.user,isAuthenticated:this.isAuthenticated,role:this.role}))}}});export{i as u};
